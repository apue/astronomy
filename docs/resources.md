# 天体纹理资源需求文档

## 概述

金星凌日天文教育应用需要高质量的天体纹理资源来提供逼真的3D视觉效果。本文档详细说明了所需的纹理文件、格式要求、文件命名规范和目录结构。

## 🚀 快速开始

**重要提示**：应用具有完整的回退机制，即使没有任何纹理文件也能正常运行，会使用程序生成的占位纹理。但为了获得最佳视觉效果，建议准备以下资源。

## 📁 目录结构

所有纹理文件应放置在 `public/textures/` 目录下：

```
public/textures/
├── sun/                    # 太阳纹理
├── earth/                  # 地球纹理
├── venus/                  # 金星纹理
└── stars/                  # 星空背景纹理
```

## 🌞 太阳纹理 (Sun Textures)

### 目录：`public/textures/sun/`

| 文件名 | 用途 | 推荐尺寸 | 格式 | 必需性 |
|--------|------|----------|------|--------|
| `sun_surface.jpg` | 太阳表面纹理 | 4096×2048 | JPG | **必需** |
| `sun_corona.jpg` | 日冕效果纹理 | 2048×1024 | JPG | 推荐 |
| `sun_normal.jpg` | 表面法线贴图 | 2048×1024 | JPG | 可选 |

### 纹理特点
- **表面纹理**：应显示太阳黑子、耀斑和颗粒结构
- **色彩范围**：橙黄色到深红色过渡
- **亮度**：高对比度，突出表面细节

## 🌍 地球纹理 (Earth Textures)

### 目录：`public/textures/earth/`

| 文件名 | 用途 | 推荐尺寸 | 格式 | 必需性 |
|--------|------|----------|------|--------|
| `earth_day.jpg` | 地球白天纹理 | 8192×4096 | JPG | **必需** |
| `earth_night.jpg` | 地球夜间灯光 | 8192×4096 | JPG | 推荐 |
| `earth_clouds.jpg` | 云层纹理 | 8192×4096 | JPG | 推荐 |
| `earth_bump.jpg` | 地形高度图 | 8192×4096 | JPG | 可选 |
| `earth_normal.jpg` | 地形法线贴图 | 8192×4096 | JPG | 可选 |
| `earth_specular.jpg` | 反射贴图 | 8192×4096 | JPG | 可选 |

### 纹理特点
- **白天纹理**：清晰的大陆轮廓，自然色彩
- **夜间纹理**：城市灯光，黑色背景
- **云层**：白色云团，透明度渐变
- **地形图**：灰度高度信息

## ♀️ 金星纹理 (Venus Textures)

### 目录：`public/textures/venus/`

| 文件名 | 用途 | 推荐尺寸 | 格式 | 必需性 |
|--------|------|----------|------|--------|
| `venus_surface.jpg` | 金星表面纹理 | 4096×2048 | JPG | **必需** |
| `venus_clouds.jpg` | 金星云层 | 4096×2048 | JPG | 推荐 |
| `venus_normal.jpg` | 表面法线贴图 | 2048×1024 | JPG | 可选 |
| `venus_atmosphere.jpg` | 大气层纹理 | 2048×1024 | JPG | 可选 |

### 纹理特点
- **表面纹理**：黄橙色调，火山地形
- **云层**：厚重的硫酸云，黄白色
- **大气**：浓密的大气层效果

## ⭐ 星空背景纹理 (Star Textures)

### 目录：`public/textures/stars/`

| 文件名 | 用途 | 推荐尺寸 | 格式 | 必需性 |
|--------|------|----------|------|--------|
| `milky_way.jpg` | 银河系背景 | 8192×4096 | JPG | 推荐 |
| `star_field.jpg` | 星空纹理 | 4096×4096 | JPG | 可选 |
| `star_alpha.png` | 星星透明度 | 4096×4096 | PNG | 可选 |

### 纹理特点
- **银河背景**：深空背景，银河系结构
- **星空纹理**：点状星星分布
- **透明通道**：星星的alpha蒙版

## 📋 技术规格

### 文件格式要求
- **主要格式**：JPG (有损压缩，适合大部分纹理)
- **透明度**：PNG (用于需要alpha通道的纹理)
- **压缩质量**：80-90% (平衡质量与文件大小)

### 尺寸规格
- **高质量**：8192×4096 (地球主纹理)
- **中等质量**：4096×2048 (太阳、金星主纹理)
- **低质量**：2048×1024 (法线贴图、次要纹理)

### 性能优化
应用支持三种质量等级的自动切换：

| 质量等级 | 各向异性过滤 | 最大纹理尺寸 | 使用场景 |
|----------|--------------|--------------|----------|
| **高** | 16x | 2048px | 高性能设备 |
| **中** | 8x | 1024px | 中等性能设备 |
| **低** | 4x | 512px | 低性能设备 |

## 🔄 纹理映射格式

所有纹理应使用**经纬度投影**（Equirectangular Projection）：
- **经度范围**：-180° 到 +180° (水平方向)
- **纬度范围**：-90° 到 +90° (垂直方向)
- **纹理坐标**：UV坐标(0,0)对应(-180°,-90°)，(1,1)对应(+180°,+90°)

## 📥 推荐资源来源

### NASA公开数据
1. **NASA Visible Earth**: https://visibleearth.nasa.gov/
2. **NASA Solar Dynamics Observatory**: https://sdo.gsfc.nasa.gov/
3. **NASA Planetary Data**: https://www.nasa.gov/multimedia/imagegallery/
4. **Jet Propulsion Laboratory**: https://www.jpl.nasa.gov/

### 推荐纹理包
- **地球纹理**：NASA Blue Marble Next Generation
- **太阳纹理**：SDO (Solar Dynamics Observatory) 数据
- **金星纹理**：Magellan Mission 数据
- **星空背景**：ESA Gaia 星表数据

## 🛠️ 纹理准备工具

### 图像处理软件
- **GIMP** (免费)：基础纹理编辑
- **Adobe Photoshop**：专业纹理制作
- **Blender**：3D纹理烘焙

### 在线工具
- **NASA Eyes on the Solar System**：实时天体数据
- **Stellarium**：天文模拟软件
- **WorldWide Telescope**：天文图像浏览器

## ⚡ 加载性能优化

### 文件大小建议
- **关键纹理** (地球白天)：< 20MB
- **次要纹理** (云层、法线)：< 10MB
- **装饰纹理** (星空)：< 5MB

### 渐进式加载
应用支持渐进式纹理加载：
1. **第一阶段**：低分辨率占位纹理 (立即显示)
2. **第二阶段**：中等分辨率纹理 (快速加载)
3. **第三阶段**：高分辨率纹理 (详细效果)

## 🔧 故障排除

### 常见问题

**Q: 纹理显示为纯色或白色？**
A: 检查文件路径是否正确，确保文件存在于 `public/textures/` 目录下

**Q: 纹理加载缓慢？**
A: 减小纹理文件大小，或使用较低的质量设置

**Q: 某些纹理不显示？**
A: 检查浏览器控制台的错误信息，确认文件格式和命名正确

**Q: 内存使用过高？**
A: 应用会自动检测并降低纹理质量，也可手动调整性能设置

### 调试工具
- **浏览器开发者工具**：查看网络请求和错误信息
- **控制台命令**：`window.app.getPerformanceInfo()` 查看渲染性能
- **性能监控**：应用内置FPS计数器和内存监控

## 📄 许可证信息

使用NASA公开数据时，请注意：
- 大部分NASA图像属于公共领域
- 某些图像可能需要标注来源
- 商业使用前请确认具体许可要求

## 🔗 相关文档

- [技术规格文档](./tech-spec.md)
- [部署指南](./deployment.md)
- [设计文档](./design.md)

---

## 总结

虽然应用在没有任何纹理文件的情况下也能正常运行，但准备完整的纹理资源将显著提升视觉效果和教学价值。建议优先准备标记为"必需"的纹理文件，然后根据需要逐步添加推荐和可选的纹理。